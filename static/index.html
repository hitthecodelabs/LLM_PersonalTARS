<!-- static/index.html -->

<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TARS Web Assistant</title>
  <!-- 1. Enlazamos nuestra hoja de estilos CSS -->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

  <!-- contenido HTML (la estructura) -->
  <div class="app" role="application" aria-label="TARS Web Assistant">
    <div class="panel" aria-live="polite">
      <div class="header">
        <div class="title">
          <div class="logo">T</div>
          <div>
            <h1>TARS</h1>
            <div class="hdr-sub">Asistente personal â€” voz y texto</div>
          </div>
        </div>

        <div class="session" title="Session">
          <small id="sessionIdPreview">session: â€”</small>
          <button id="copySession" class="small" title="Copiar sessionId">Copiar</button>
        </div>
      </div>

      <div class="history" id="history" aria-live="polite" role="log"></div>

      <div class="controls" aria-hidden="false">
        <div class="mic-wrap">
          <button id="micBtn" title="MantÃ©n pulsado para hablar">ðŸŽ¤</button>
          <div class="status">
            <div class="state" id="status">listo</div>
            <div class="meta" id="meta">presiona y habla</div>
          </div>
        </div>
        <div style="flex:1; display:flex; align-items:center;">
          <div class="typing" id="typingIndicator" aria-hidden="true" style="visibility:hidden">
            <div style="width:8px;height:8px;border-radius:50%;background:var(--accent);opacity:.18"></div>
            <div style="color:var(--muted)">TARS estÃ¡ escribiendo</div>
            <div class="dots" style="margin-left:auto">
              <span class="dot"></span><span class="dot"></span><span class="dot"></span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <aside class="side" aria-label="Controles">
      <div class="card">
        <label for="voices">Voz (TTS)</label>
        <select id="voices" aria-label="Selector de voz"></select>
        <div style="display:flex;justify-content:space-between;align-items:center">
          <label for="vol">Volumen</label>
          <input id="vol" type="range" min="0" max="1" step="0.05" value="1">
        </div>
        <div style="display:flex;gap:8px">
          <button id="stopSpeak" class="small">Parar habla</button>
          <button id="clearChat" class="small">Limpiar chat</button>
        </div>
      </div>

      <div class="card">
        <label>Waveform (mic)</label>
        <canvas id="wave" aria-hidden="true"></canvas>
        <small style="color:var(--muted)">Visual del nivel de entrada de audio (permiso requerido)</small>
      </div>

      <div class="card">
        <label>SesiÃ³n / Debug</label>
        <div><small id="sessionDebug" style="color:var(--muted)">sessionId: â€”</small></div>
        <div style="margin-top:6px;color:var(--muted);font-size:0.85rem">
          Endpoint: <code style="background:transparent;color:var(--accent)">http://localhost:8000</code>
        </div>
      </div>
    </aside>
  </div>

  <!-- 2. Enlazamos nuestro archivo JavaScript. 'defer' es importante para
          que se ejecute despuÃ©s de que el HTML se haya cargado. -->
  <script src="js/main.js" defer></script>
</body>
</html>
